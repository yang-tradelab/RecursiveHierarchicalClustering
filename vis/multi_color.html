<!DOCTYPE html>
<html>

<head>
    <title>Whisper Users</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/whisper.js"></script>
    <link rel="stylesheet" type="text/css" href="css/whisper.css">
</head>

<body>
    <!-- <div id='counter'></div> -->
    <div class="main-container container expand">
        <div id='packed-chart'></div>
        <div id='icicle-chart'></div>
        <div id='sunburst-chart'></div>
        <div id='treemap-chart'></div>
        <div id='helper-container'>
            <div id='helper-more'>Scroll down for more</div>
            <div id='display-helper'><span class="glyphicon glyphicon-resize-small" aria-hidden="true"></span></div>

        <div id='controller' class='panel panel-default'>
          <div class='panel-heading'><h3 class="panel-title">Visulization Configuration
          <span id='controller-helper'><span class="glyphicon glyphicon glyphicon-chevron-up" aria-hidden="true"></span><span class="glyphicon glyphicon glyphicon glyphicon-chevron-down hidden" aria-hidden="true"></span></span>
          </h3>
            
          </div>
          <div class='panel-body '>
          <ul>
            <li>
            <h4>Visualization Style<br/>
            <small>Select your favorite method to visualize the cluster hierarchy.</small></h4>
            <div class="vis-style-group btn-group btn-group-xs" role="group" aria-label="vis-style">
              <button type="button" data="packed" class="btn btn-default btn-primary">Packed Circle</button>
              <button type="button" data="icicle" class="btn btn-default">Icicle</button>
              <button type="button" data="sunburst" class="btn btn-default">Sunburst</button>
              <button type="button" data="treemap" class="btn btn-default">Treemap</button>
            </div>
            </li>
            <li>
              <h4>Maximum Depth<br/>
              </h4>
            <div class="max-depth-group btn-group btn-group-xs" role="group" aria-label="max-depth">
              <button type="button" data=1 class="btn btn-default">1</button>
              <button type="button" data=2 class="btn btn-default">2</button>
              <button type="button" data=3 class="btn btn-default">3</button>
              <button type="button" data=5 class="btn btn-default btn-primary">All</button>
            </div>

            </li>

            <li><h4>Cluster Color<br/>
            <small>The default coloring only reflects the depth of the cluster.<br/>
            You can enable a color overlay to denote cluster compactness or modularity.
            <br/>Lower Value
            <span class='label' style="background-color: #637E84"> </span>
            <span class='label' style="background-color: #92B4A5"> </span>
            <span class='label' style="background-color: #EDC224"> </span>
            <span class='label' style="background-color: #F9AC21"> </span>
            <span class='label' style="background-color: #ED4E25"> </span>&nbsp;Higher Value
            </small></h4>
            <div class="color-entry-group btn-group btn-group-xs" role="group" aria-label="color-entry">
              <button type="button" data='default' class="btn btn-default btn-primary">Default</button>
              <button type="button" data='modu' class="btn btn-default">Modularity</button>
              <button type="button" data='dist' class="btn btn-default">Compactness</button>
            </div>
            </li>
            
          </ul>
            
          </div>
        </div>
            <div id='helper' class="features feature">

                <h2>Whisper Behavioral Clusters</h2>
                <h3>About This Tool</h3>
                <p>We build a tool to automatically discover the natural formation of user categories in Whisper, based on their behavior as captured by clickstream data. A user's clickstream is a sequence of click events generated by the user when she uses the app. At a high-level, we assume that human behavior would naturally form clusters or groups, because large user populations tend to break into different types of users according to their habits, goals, and personalities. Our tool seeks to discover these natural clusters among users, where each cluster represents a specific user type or behavioral pattern. To understand the meaning of these resulting clusters (since they are unlabeled and do not necessarily match preconceived categories), we identify key behavioral patterns for each cluster that are primarily responsible for distinguishing users in the cluster from others. These key patterns thus can serve as the cluster labels. </p>
                <p>Our tool builds clusters <b>hierarchically</b>, where clusters are nested, and bigger clusters represent the higher level categories of users. Smaller, sub-clusters represent more fine-grained user types. The <b>circle size</b> represents the number of users in a cluster.</p>
                <h3>How to Use this Tool</h3>
                <p>The clusters displayed on the left are generated from 100k Whisper users' clickstreams. They represent the major user behavioral categories in Whisper. You can browse different clusters to understand the detailed user behavioral patterns. To reference the clusters easily, we add labels for the top-level clusters (the text at the bottom of each cluster). For example, the biggest cluster contains users who are likely to <b>read whispers sequentially</b>.</p>
                <p>By <b>double-clicking</b> on any cluster, you can <b>zoom</b> in on the cluster for more focused
                inspection. To zoom out, simply double click on the current cluster.</p>
                <p>Clicking on a cluster will pop up a window to show more detailed information about this cluster. Here, we explain how to read the information in the pop-up window. First, on the top of the window, it shows the <b>ClusterID</b> and the <b>Number of Users</b> in this cluster. Then, below that, we show a list of <b>Action Patterns</b> that can characterize the behaviors of users in the cluster. Each row contains one Action Pattern. These Action Patterns are ranked by their distinguishing power in classifying users in this cluster (more important patterns on top). We only display the most important Action Patterns in the pop-up window and the rest are omitted because they are <em>significantly</em> weaker.</p>
                <ul class='decorate'>
                    <li>The first column shows the <b>Rank</b> of the Action Pattern. A pattern with a higher ranking means this pattern is more important in classifying users in this cluster. </li>
                    <li>
                        <p class='condensed'>
                            This is an example <b>Action Pattern:</b>
                            <br>
                            <span class="label label-primary action action-ViewWhisper">View Whisper</span>
                            <span class="timegap label label-success">1M</span>
                            <span class="label label-primary action action-ViewWhisper">View Whisper</span>
                            <span class="timegap label label-success">1M</span>
                            <span class="label label-primary action action-ViewWhisper">View Whisper</span>
                        </p>
                        <p>
                            This pattern indicates users like to "view whispers" one after another with time gaps less than a minute. A pattern is likely to repetitively appear in a user's clickstreams. Note that the time gaps have been discretized as time gap events. </p>
                        <table class="table table-bordered table-nonfluid">
                            <tr>
                                <td><span class="timegap label label-success">1S</span></td>
                                <td>&lt; one second </td>
                            </tr>
                            <tr>
                                <td><span class="timegap label label-success">1M</span></td>
                                <td> [1 second, 1 minute) </td>
                            </tr>
                            <tr>
                                <td><span class="timegap label label-success">1H</span></td>
                                <td> [1 minute, 1 hour) </td>
                            </tr>
                            <tr>
                                <td><span class="timegap label label-success">1D</span></td>
                                <td> [1 hour, 1 day) </td>
                            </tr>
                            <tr>
                                <td><span class="timegap label label-success">1D+</span></td>
                                <td>&gt; one day. </td>
                            </tr>
                        </table>
                        </p>
                    </li>
                    <li>
                        <p>The <b>Frequency Distribution</b> shows how frequently does the Action Pattern appear in users in this cluster versus outside the cluster.</p>
                        <table class='table table-bordered text-center table-nonfluid'>
                            <tr>
                                <td class='inline'>
                                    <svg height="20" width="72">
                                        <g transform="translate(0, 0)">
                                            <rect y="0" height="20" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="19.56011263421854" height="0.4398873657814584" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(6, 0)">
                                            <rect y="12.298497267759561" height="7.701502732240439" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="17.67499388714432" height="2.325006112855679" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(12, 0)">
                                            <rect y="15.414617486338797" height="4.585382513661203" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="15.167556927797587" height="4.832443072202412" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(18, 0)">
                                            <rect y="17.887295081967213" height="2.1127049180327875" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="14.143259058105393" height="5.856740941894606" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(24, 0)">
                                            <rect y="19.05874316939891" height="0.9412568306010929" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="14.459156627786873" height="5.540843372213127" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(30, 0)">
                                            <rect y="19.56967213114754" height="0.430327868852459" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="15.597967366488602" height="4.402032633511398" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(36, 0)">
                                            <rect y="19.82103825136612" height="0.1789617486338798" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="16.56382418578972" height="3.4361758142102783" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(42, 0)">
                                            <rect y="19.904371584699454" height="0.09562841530054644" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="17.410429672536083" height="2.5895703274639175" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(48, 0)">
                                            <rect y="19.96448087431694" height="0.035519125683060114" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="18.165424864074815" height="1.8345751359251845" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(54, 0)">
                                            <rect y="19.976092896174862" height="0.02390710382513661" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="18.591886583144813" height="1.4081134168551888" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(60, 0)">
                                            <rect y="19.989754098360656" height="0.010245901639344265" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="19.024666253608437" height="0.9753337463915637" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                        <g transform="translate(66, 0)">
                                            <rect y="19.987021857923498" height="0.012978142076502733" x="2.8" fill="teal" width="2.8" style="opacity: 0.9;"></rect>
                                            <rect y="17.51230663875836" height="2.4876933612416403" fill="red" width="2.8" style="opacity: 0.9;"></rect>
                                        </g>
                                    </svg>
                                </td>
                            </tr>
                        </table>
                        <p>You can see how users in this cluster are different from users outside of the cluster on this particular Action Pattern. The <span class="local-avg">red</span> bars show the pattern frequency distribution (PDF) for users <span class="local-avg">within</span> the selected cluster. As a baseline comparison, the <span class="global-avg">green</span> bars show the pattern frequency <span class="global-avg">outside</span> the cluster. In this example, the red distribution is more skewed to the right, indicating users in this cluster perform this activity more frequently than those outside (i.e., more likely to read whispers sequentially). The more different the two distributions are, the more useful the Pattern is to characterize users in this cluster.
                        </p>
                    </li>
                    <li>
                        Finally, the <b>Score</b> column shows the Chi-Square score of the Action Pattern. We rely on this score to rank Action Patterns (a higher score means the pattern is more important). Socres are colored from <span class='label' style="background-color: #f98909">higher</span> to <span class='label' style="background-color: #6ecddd">lower</span>.
                    </li>
                </ul>
                <h3>Example Clusters</h3>
                <ul class='decorate'>
                    <li> <b>Inactive Users:</b> this cluster contains about 20% of users in the dataset. Users in this cluster usually do nothing but passively receive push notifications. These users are likely to turn dormant (quitting the app), and further actions are needed to regain their engagements. </li>
                    <li> <b>Block Users in Chat:</b> Users in this cluster tend to block others during their private chat. It is likely that these users are harassed by others, or having unpleasant conversations. </li>
                </ul>
                <p><a href="reference.html" target="_blank">Details about the click events</a></p>
            </div>
        </div>
    </div>
</body>